<lib-toastify-toast-container></lib-toastify-toast-container>
<main class="app-content">
   <div class="app-title">
      <ul class="app-breadcrumb breadcrumb">
         <li class="breadcrumb-item"><a [routerLink]="['/admin/news']">Tin tức</a></li>
         <li class="breadcrumb-item">Thêm mới</li>
      </ul>
   </div>
   <div class="row">      
      <div class="col-md-12">
         <div class="tile">
            <h3 class="tile-title">Tin tức</h3>
            <div class="tile-body">

               <form class="row" #myForm="ngForm" (ngSubmit)="onSubmit(myForm)">

                  <div class="form-group col-md-12">
                     <label class="control-label">Tiêu đề<span class="text-danger">*</span></label>
                     <textarea class="form-control" type="text" [(ngModel)]="news.title" name="title"
                        required></textarea>
                  </div>

                  <div class="form-group">
                     <label class="control-label">Ảnh<span class="text-danger">*</span></label>
                     <input class="form-control col-md-6" type="file" id="uploadfile" name="uploadfile" accept="image/*" 
                        (change)="onFileSelected($event)" style="height: auto;" required>

                     <img [src]="imageUrl" alt="Ảnh xem trước" class="mt-2" width="auto" height="150" *ngIf="imageUrl">
                  </div>

                  <div class="form-group col-md-12">
                     <label class="control-label">Mô tả ngắn<span class="text-danger">*</span></label>
                     <textarea class="form-control" type="text" name="summary" [(ngModel)]="news.summary"
                        required></textarea>
                  </div>

                  <div class="form-group col-md-12">
                     <label class="control-label">Nội dung<span class="text-danger">*</span></label>
                     <ckeditor [editor]="Editor" data={{news.content}} tagName="content" (change)="onChange($event)">
                     </ckeditor>
                  </div>
                  <div class="form-group col-md-6">
                     <label class="control-label">Trạng thái<span class="text-danger">*</span></label>
                     <select [(ngModel)]="news.status" name="status" class="form-control" required>
                        <option value="" disabled>-- Chọn trạng thái --</option>
                        <option [value]="true">Đang đăng</option>
                        <option [value]="false">Đang ẩn</option>
                     </select>
                  </div>

                  <div class="form-group col-md-6">
                     <label class="control-label">Loại tin tức<span class="text-danger">*</span></label>
                     <select [(ngModel)]="news.newsTypeId" name="newsTypeId" class="form-control" required>
                        <option value="" disabled>-- Chọn loại tin tức --</option>
                        <option *ngFor="let item of newsType" [value]="item.id">{{item.name}}</option>
                     </select>
                  </div>

                  <div class="col-md-12 d-flex justify-content-center">
                     <button class="btn btn-save me-3" type="submit">Lưu lại</button>
                     <a class="btn btn-cancel" [routerLink]="['/admin/news']">Quay lại</a>
                  </div>
               </form>
            </div>
         </div>
      </div>
   </div>
</main>